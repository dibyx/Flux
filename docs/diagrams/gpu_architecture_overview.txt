# GPU Architecture Overview (Text Diagram)

```
┌─────────────────────────────────────────────────────────────────────┐
│                         COMMAND PROCESSOR                            │
│  • Parses command buffers from CPU                                   │
│  • Dispatches work to shader cores and fixed-function units          │
└────────────┬────────────────────────────────┬───────────────────────┘
             │                                │
    ┌────────▼────────┐              ┌────────▼────────┐
    │  GRAPHICS PATH  │              │  COMPUTE PATH   │
    └────────┬────────┘              └────────┬────────┘
             │                                │
   ┌─────────▼────────┐                       │
   │ VERTEX PROCESSOR │                       │
   │  (Shader Core)   │                       │
   └─────────┬────────┘                       │
             │                                │
   ┌─────────▼────────┐                       │
   │    RASTERIZER    │                       │
   │  • Triangle Setup│                       │
   │  • Edge Walking  │                       │
   └─────────┬────────┘                       │
             │                                │
             └────────────┬───────────────────┘
                          │
               ┌──────────▼──────────┐
               │   SHADER CORES      │
               │ ┌─────────────────┐ │
               │ │  Warp Scheduler │ │
               │ │  SIMT Execution │ │
               │ │  64-128 ALUs    │ │
               │ │  Texture Unit   │ │
               │ │  Load/Store     │ │
               │ └─────────────────┘ │
               │  [Repeat 40-80×]    │
               └──────────┬──────────┘
                          │
               ┌──────────▼──────────┐
               │  MEMORY SUBSYSTEM   │
               │ ┌─────────────────┐ │
               │ │  L2 Cache       │ │
               │ │  4-8 MB Shared  │ │
               │ └────────┬────────┘ │
               │          │          │
               │ ┌────────▼────────┐ │
               │ │ Memory Control. │ │
               │ │ GDDR6/HBM Iface │ │
               │ └────────┬────────┘ │
               └──────────┼──────────┘
                          │
               ┌──────────▼──────────┐
               │   VRAM (8-24 GB)    │
               │  GDDR6: 500 GB/s    │
               │  HBM2:  1-3 TB/s    │
               └─────────────────────┘

               ┌──────────────────────┐
               │   ROPs (Render Out)  │
               │ • Depth/Stencil Test │
               │ • Alpha Blending     │
               │ • Compression        │
               └──────────┬───────────┘
                          │
               ┌──────────▼───────────┐
               │   DISPLAY OUTPUT     │
               │  HDMI/DisplayPort    │
               └──────────────────────┘
```

## Component Details

### Command Processor
- **Function**: Front-end for GPU
- **Input**: Command buffers (draw calls, dispatch calls)
- **Output**: Work packets to shader cores

### Shader Core (SM/CU)
Each shader core contains:
- **Warp Scheduler**: Manages 32-thread warps
- **ALUs**: 64-128 SIMD lanes (FP32, INT32, FP16)
- **SFU**: Special Function Unit (sin, cos, sqrt, rcp)
- **Texture Unit**: Sampling and filtering
- **Registers**: 64KB-256KB per core
- **Shared Memory**: 64KB-128KB per core
- **L1 Cache**: 128KB per core

### Memory Hierarchy
```
Registers (64KB)     →  <1 cycle   |  20+ TB/s  |  Per-thread
Shared Mem (128KB)   →  ~5 cycles  |  15  TB/s  |  Per-block
L1 Cache (128KB)     →  ~30 cycles |  10  TB/s  |  Per-core
L2 Cache (4-8MB)     →  ~100 cycles|  2   TB/s  |  Global
VRAM (8-24GB)        →  ~200 cycles|  0.5 TB/s  |  Global
```

### ROPs (Render Output Units)
- **Depth Test**: Early-Z and late-Z
- **Stencil Operations**: Masking and effects
- **Blending**: Alpha compositing
- **Compression**: Lossless framebuffer compression
